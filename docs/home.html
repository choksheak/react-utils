<!DOCTYPE html>
<html lang="en">

<head>
    <title>Chokâ€™s React Utilities</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/nnfx-light.min.css"
        media="(prefers-color-scheme: light)">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/nnfx-dark.min.css"
        media="(prefers-color-scheme: dark)">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/typescript.min.js"></script>
    <script>hljs.highlightAll();</script>
    <style>
        @media (prefers-color-scheme: light) {
            body {
                background: linear-gradient(180deg, hsla(0, 0%, 100%, 0) 0, #fff 300px), fixed 0 0 /20px 20px radial-gradient(#d1d1d1 1px, transparent 0), fixed 10px 10px /20px 20px radial-gradient(#d1d1d1 1px, transparent 0);
            }
        }

        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(180deg, hsla(0, 0%, 0%, 0.5) 0, #000 300px), fixed 0 0 /20px 20px radial-gradient(#2e2e2e 1px, transparent 0), fixed 10px 10px /20px 20px radial-gradient(#2e2e2e 1px, transparent 0);
            }
        }

        @media (prefers-color-scheme: light) {
            body {
                color: rgb(51, 65, 85);
            }
        }

        @media (prefers-color-scheme: dark) {
            body {
                color: rgb(224, 210, 190);
            }
        }

        body {
            min-height: 100vh;
            margin: 0;
            font-family: ui-sans-serif, system-ui;
        }

        .content {
            padding: 40px 60px;
        }

        @media (max-width: 600px) {
            .content {
                padding: 12px;
            }
        }

        h1 {
            font-size: 36px;
            font-weight: 700;
            letter-spacing: 1.5px;
            margin: 0;
            text-align: center;
        }

        h2 {
            font-size: 24px;
            font-weight: 600;
            margin: 0;
        }

        h3 {
            font-size: 30px;
            font-weight: 550;
            border-bottom: 1px solid #ccc;
            padding: 20px 0 10px;
        }

        h4 {
            font-size: 20px;
            font-weight: 550;
            margin: 24px 0 16px;
            display: flex;
            gap: 4px;
            align-items: center;
        }

        @media (prefers-color-scheme: light) {
            a {
                color: rgb(0, 107, 230);
            }
        }

        @media (prefers-color-scheme: dark) {
            a {
                color: rgb(255, 148, 25);
            }
        }

        p,
        ul {
            line-height: 2rem;
            font-size: 18px;
            letter-spacing: 0.5px;
            font-weight: 350;
        }

        .quickLinks {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin: 60px 0 120px;
        }

        @media (max-width: 600px) {
            .quickLinks {
                display: none;
            }
        }

        pre {
            margin: 0;
        }

        code {
            font-size: 15px;
            border: 1px solid #ddd;
            background-color: #fdfdfd;
            border-radius: 12px;
            padding: 0 20px;
            white-space-collapse: preserve;
            overflow-x: auto;
        }

        @media (prefers-color-scheme: light) {
            .footer {
                background-color: rgb(243, 244, 246);
            }
        }

        @media (prefers-color-scheme: dark) {
            .footer {
                background-color: rgb(12, 11, 9);
            }
        }

        .footer {
            height: 100px;
            padding: 30px;
            font-size: 14px;
        }
    </style>
</head>

<body>
    <div class="content">

        <div style="display: flex; flex-direction: column; gap: 16px; align-items: center; padding-bottom: 10px;">
            <h2>@choksheak/react-utils</h2>
            <h1>Chokâ€™s React Utilities</h1>
        </div>

        <p>
            This package is a time-tested collection of React utilities written
            in TypeScript that I have personally needed in almost every project
            that I have worked in. Making this an open source, public npm
            package allows me to share this code freely with others as well as
            using it for my own personal and professional projects. Feel free
            to use it in your own projects without any restrictions.
        </p>

        <p>
            The code supports full tree-shaking. Therefore your code will only
            grow in size by whatever you use. Any code that you are not using
            will not contribute to your code size.
        </p>

        <p
            style="background-color: rgb(250, 250, 202); padding: 10px 20px; border: 1px solid rgb(244, 214, 19); border-radius: 20px; color: rgb(155, 103, 0); display: flex; gap: 12px;">
            <span style="font-size: 30px; transform: translateY(7px);">ðŸš€</span>
            <span>
                <b style="font-weight: 600;">@choksheak/react-utils</b>
                allows you to reuse common React+Typescript functions without
                reinventing the wheels, thus <b>saving you time</b> and
                <b>reducing the size of your code</b>.
            </span>
        </p>

        <p class="quickLinks">
            <a href="#WhyUseThis"
                onClick="document.getElementById('WhyUseThis').scrollIntoView({behavior: 'smooth', block: 'start'}); return false">Why
                Use This? â†“</a>
            Â·
            <a href="#GetStarted"
                onClick="document.getElementById('GetStarted').scrollIntoView({behavior: 'smooth', block: 'start'}); return false">Get
                Started â†“</a>
            Â·
            <a href="#Examples"
                onClick="document.getElementById('Examples').scrollIntoView({behavior: 'smooth', block: 'start'}); return false">Examples â†“</a>
            Â·
            <a href="reference/index.html" target="_blank">Docs â†—</a>
            Â·
            <a href="https://github.com/choksheak/react-utils" target="_blank">Source code â†—</a>
        </p>

        <a id="WhyUseThis" name="WhyUseThis"></a>
        <h3>Why Use This? <span tabindex="0" onClick="window.scrollTo({top: 0, behavior: 'smooth'}); return false" style="cursor: pointer; opacity: .3;">â†‘</span></h3>

        <p>
            This package is built after similar open source packages like
            <a href="https://tanstack.com/query/docs" target="_blank">TanStack Query</a>
            and <a href="https://swr.vercel.app/" target="_blank">SWR</a>
            existed. Why should you use this package instead of the others?
            This package offers the following features which could potentially
            be built into the other existing libraries, but requires a fair
            bit of code and effort:
        </p>

        <ul>
            <li>Strong type-checking support</li>
            <li>Single, global definition of each shared state or shared query</li>
            <li>Minimum configuration needed to use local storage or indexed DB persistence</li>
            <li>Super high-performance client-side caching</li>
            <li>Easy to understand and use with clean, consistent syntax </li>
            <li>No setup needed with React context</li>
            <li>Auto-expiring caches (both in-memory and persistent) with minimum effort needed</li>
        </ul>

        <p>
            This means that if you use this package, as compared to the other
            packages, it should always <b>save you both time and effort</b>, and
            provide your code with <b>better performance</b>, with writing the
            minimum amount of code needed to define what you actually want, with
            <b>no boilerplate code needed</b>. The code you produce using this
            library is almost always <b>more powerful</b>, <b>more concise</b>
            and <b>more performant</b> than the code you could produce using
            any other library that exists today (December 2025).
        </p>

        <p>
            Please see the examples below and compare that to how much more
            difficult it would be to produce the same functionality using any
            other library.
        </p>

        <a id="GetStarted" name="GetStarted"></a>
        <h3 tabindex="0" onClick="window.scrollTo({top: 0, behavior: 'smooth'}); return false" style="cursor: pointer;">Get Started <span style="opacity: .3;">â†‘</span></h3>

        <p>
            Install the package using the standard package manager command:
        </p>

        <pre><code class="language-plaintext">npm i @choksheak/react-utils</code></pre>

        <a id="Examples" name="Examples"></a>
        <h3>Examples <span tabindex="0" onClick="window.scrollTo({top: 0, behavior: 'smooth'}); return false" style="cursor: pointer; opacity: .3;">â†‘</span></h3>

        <!-- fetcher -->

        <h4>
            fetcher.ts
            <a href="reference/modules/fetcher.html" target="_blank" style="display:flex">
                <img src="images/openIcon.svg" style="width:20px;height:20px;" />
            </a>
        </h4>

        <pre><code>import { fetcher } from "@choksheak/react-utils/fetcher";

// Fetch some data from the server, with auto-retries.
const data = await fetcher.url("/api/get-user-data").get();

// Print data which should be a json object.
console.log(`Fetched data:`, data);</code></pre>

        <!-- NoSSR -->

        <h4>
            NoSSR.ts
            <a href="reference/modules/NoSSR.html" target="_blank" style="display:flex">
                <img src="images/openIcon.svg" style="width:20px;height:20px;" />
            </a>
        </h4>

        <pre><code>"use client";

import { NoSSR } from "@choksheak/react-utils/NoSSR";

export const ClientSideOnlyComponent: React.FC = () => {
    // Ensure that the component only gets rendered on the client side.
    return (
        &lt;NoSSR&gt;
            &lt;ComponentThatOnlyRendersOnTheClientSide /&gt;
        &lt;/NoSSR&gt;
    );
};</code></pre>

        <!-- sharedQuery -->

        <h4>
            sharedQuery.ts
            <a href="reference/modules/sharedQuery.html" target="_blank" style="display:flex">
                <img src="images/openIcon.svg" style="width:20px;height:20px;" />
            </a>
        </h4>

        <pre><code>"use client";

import { fetcher } from "@choksheak/react-utils/fetcher";
import { sharedQuery, useSharedQuery } from "@choksheak/react-utils/sharedQuery";
import { MS_PER_HOUR } from "@choksheak/ts-utils/timeConstants";

// Create a shared query object that is reusable in other parts of the code.
export const listUsersQuery = sharedQuery({
    url: "/api/list-users",
});

// Similar to listUsersQuery, but adding persistence.
export const listUsersQuery2 = sharedQuery({
    queryName: "listUsers2", // specify to avoid conflict with listUsersQuery
    url: "/api/list-users",
    persistTo: "indexedDb",
    staleMs: MS_PER_HOUR,
});

// Similar to listUsersQuery, but using a custom queryFn instead of url.
export const listUsersQuery3 = sharedQuery({
    queryName: "listUsers3", // required when using queryFn
    queryFn: () => fetcher.url("/api/list-users").get(),
});

export const ListUsersComponent1: React.FC = () => {
    // Use the shared query to get data.
    // Note that while you can also use the `const { data ... } =` syntax, it
    // does not scale well when you need multiple shared queries in the same
    // component, so we recommend using the `const listUsers =` syntax instead.
    const listUsers = useSharedQuery(listUsersQuery);

    return (
        &lt;&gt;
            &lt;h1&gt;Users&lt;/h1&gt;

            {/* Inform the user that the data is loading. */}
            {listUsers.loading && "Loading..."}

            {/* If the data is available, don't show the error. */}
            {!listUsers.data && listUsers.error ? String(listUsers.error) : null}

            {/* Assume that `listUsers.data` is an array of users. */}
            {listUsers.data?.map((user, index) => {
                return &lt;User key={index} user={user} /&gt;
            }) ?? "-"}
        &lt;/&gt;
    );
};

export const ListUsersComponent2: React.FC = () => {
    // Example using the unpack assignment syntax.
    const { loading, data, error } = useSharedQuery(listUsersQuery);

    return (
        &lt;&gt;
            &lt;h1&gt;Users&lt;/h1&gt;

            {loading && "Loading..."}

            {!data && error ? String(error) : null}

            {data?.map((user, index) => {
                return &lt;User key={index} user={user} /&gt;
            }) ?? "-"}
        &lt;/&gt;
    );
};</code></pre>

        <!-- sharedState -->

        <h4>
            sharedState.tsx
            <a href="reference/modules/sharedState.html" target="_blank" style="display:flex">
                <img src="images/openIcon.svg" style="width:20px;height:20px;" />
            </a>
        </h4>

        <pre><code>"use client";

import { sharedState } from "@choksheak/react-utils/sharedState";

// Create a shared state that can be reused anywhere in the code.
export const fullNameState = sharedState(
    "", { store: { persistTo: "indexedDb", key: "fullName" }}
);

export const FullNameInput: React.FC = () => {
    // Think of `useSharedState` as like `useState`.
    const [fullName, setFullName] = useSharedState(fullNameState);

    return (
        &lt;&gt;
            Full name:
            &amp;nbsp;
            &lt;input
                type="text"
                value={fullName}
                onChange={(e) =&gt; setFullName(e.target.value)}
            /&gt;
        &lt;/&gt;
    );
};</code></pre>

        <h3>Reference <span tabindex="0" onClick="window.scrollTo({top: 0, behavior: 'smooth'}); return false" style="cursor: pointer; opacity: .3;">â†‘</span></h3>

        For more details about each module, please refer to the
        <a href="reference/index.html" target="_blank">Reference Documentation</a>

    </div>

    <div class="footer">ðŸ’™ &nbsp;Enjoy using this library! &nbsp;ðŸ˜Ž</div>
</body>

</html>